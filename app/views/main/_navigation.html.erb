<style type="text/css">
  .custom-tooltip {
    width: 100px;
    background-color: #F1F1F7;
    border: 1px solid #dddddd;
    position: absolute;
    display: block;
    padding: 5px;
    
    font-size: 11px;
    z-index: 2;
  }

  .colita {
    width: 10px;
    height: 10px;
    left: -8px;
    top: -17px;
    position: relative;
    background-color: #F1F1F7;
    border: 1px solid #dddddd;
    z-index: -1;
    -webkit-transform: rotate(45deg);
    transform: rotate(45deg);
  }
</style>
<script type="text/javascript">
  var time_out;

  var tooltip = function () {
    var id = 'tooltip';
    var top = 3;
    var left = 3;
    var maxw = 300;
    var speed = 10;
    var timer = 20;
    var endalpha = 95;
    var alpha = 0;
    var tt, height, colita;
    var ie = document.all ? true : false;

    return {

      show: function (element, value, width) {
        time_out = setTimeout(function(){tooltip.showTooltip(element, value, width);}, 800);
      },

      showTooltip: function (element, value, width) {

        if (tt == null) {
          tt = document.createElement('div');
          tt.className = 'custom-tooltip';
          document.body.appendChild(tt);
          
          colita = document.createElement('div');
          colita.className = 'colita';
          
        }
        
        tt.style.display = 'block';
        tt.innerHTML = value;
        tt.appendChild(colita);
        tt.style.width = width ? width + 'px' : 'auto';

        if (!width && ie) {
          tt.style.width = tt.offsetWidth;
        }

        if (tt.offsetWidth > maxw) {
          tt.style.width = maxw + 'px'
        }
        
        var new_x = element.offsetLeft + parseInt(element.offsetWidth) - 30;
        var new_y = element.offsetTop + 5;
        tt.style.top = new_y + 'px';
        tt.style.left = new_x + 'px';

        

        height = parseInt(tt.offsetHeight) + top;
        clearInterval(tooltip.timer);
        tooltip.timer = setInterval(function(){tooltip.fade(1)}, timer);
      },

      fade: function (d) {
        var a = alpha;
        if((a != endalpha && d == 1) || (a != 0 && d == -1)){
          var i = speed;
          if(endalpha - a < speed && d == 1){
            i = endalpha - a;
          }else if(alpha < speed && d == -1){
            i = a;
          }
          alpha = a + (i * d);
        }else{
          clearInterval(tooltip.timer);
          if(d == -1){
            if(tt != null){
              tt.style.display = 'none';
            }
            
          }
        }
      },

      hide: function () {
        clearInterval(tooltip.timer);
        clearTimeout(time_out);
        tooltip.timer = setInterval(function(){tooltip.fade(-1)},timer);
      }

    };
  }();

</script>

<div class="navigation">
  <h1><%= t(:topics_label) %></h1>
  <% class_name = '' %>
  <% @categories.each do |c| %>
  
    <% if session[:selected_category_id].nil? %>
      <%= link_to (root_path + 'guides/' + c.path) do %>
        <div class="name" onmouseover="tooltip.show(this, 'Testing 123 <strong>Testing 123</strong>');" onmouseout="tooltip.hide();">
          <%= c.name %>
        </div>
      <% end %>
    <% else %>
      <% if session[:selected_category_id] == c.id then class_name = 'selected-name' else class_name = 'name' end %>
      <%= link_to (root_path + 'guides/' + c.path) do %>
        <div class="<%= class_name %>" onmouseover="tooltip.show(this, 'Testing 123 <strong>Testing 123</strong>');" onmouseout="tooltip.hide();">
          <%= c.name %>
        </div>
      <% end %>
    <% end %>

  <% end %>
</div>